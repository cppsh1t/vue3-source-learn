import{i as b}from"./util-B7zk4-Xm.js";import{s as I}from"./async-B8FjgEV9.js";function R(){return{createElement:function(t){return document.createElement(t)},setElementText:function(t,r){t.textContent=r},insert:function(t,r,c){c!==void 0?r.insertBefore(t,c):r.appendChild(t)},patchProps:function(t,r,c,f){const h=t,{is:k,type:A}=j(r);if(k){let o=(t._eventInvoker||(t._eventInvoker={}))[r];f?o?o.value=f:(o=t._eventInvoker[r]=u=>{u.timeStamp<o.attached||(Array.isArray(o.value)?o.value.forEach(g=>g(u)):o.value(u))},o.value=f,o.attached=performance.now(),t.addEventListener(A,o)):o&&t.removeEventListener(A,o)}else r==="class"?t.className=f||"":S(t,r)?typeof h[r]==="boolean"&&f===""?h[r]=!0:h[r]=f:t.setAttribute(r,f)},createText(t){return document.createTextNode(t)},setText(t,r){t.nodeValue=r},createComment(t){return document.createComment(t)}}}const L=R();function S(t,r,c){return r==="form"&&t.tagName==="INPUT"?!1:r in t}function j(t){const r=/^\$on/.test(t),c=r?t.slice(3).toLowerCase():void 0;return{is:r,type:c}}function y(t){var c;if(t.type==="fragment"){t.children.forEach(y);return}const r=(c=t._vnode)==null?void 0:c.el;if(r){const f=r==null?void 0:r.parentNode;f&&f.removeChild(r)}}function O(t=L){const{createElement:r,insert:c,setElementText:f,patchProps:h,createText:k,setText:A,createComment:C}=t;function o(e,i,s){const l=e.el=r(e.type);if(typeof e.children=="string"?f(l,e.children):Array.isArray(e.children)&&e.children.forEach(n=>a(void 0,n,l)),e.props)for(const n in e.props)h(l,n,void 0,e.props[n]);c(l,i,s)}function u(e,i){const s=i.el=e.el,l=e.props??{},n=i.props??{};for(const p in n)n[p]!==l[p]&&h(s,p,l[p],n[p]);for(const p in l)p in n||h(s,p,l[p],void 0);g(e,i,s)}function g(e,i,s){if(typeof i.children=="string")Array.isArray(e.children)&&e.children.forEach(l=>y(l)),f(s,i.children);else if(Array.isArray(i.children))if(Array.isArray(e.children)){const l=e.children,n=i.children;let p=0;for(let m=0;m<n.length;m++){const v=n[m];let E=0,_=!1;for(;E<l.length;E++){const w=l[E];if(v.key===w.key&&v.key!==void 0){if(_=!0,a(w,v,s),E<p){const d=n[m-1];if(d){const T=d.el.nextSibling;c(v.el,s,T)}}else p=E;break}}if(!_){const w=n[m-1];let d;w?d=w.el.nextSibling:d=s.firstChild,a(void 0,v,s,d)}}}else f(s,""),i.children.forEach(l=>a(void 0,l,s));else Array.isArray(e.children)?e.children.forEach(l=>y(l)):typeof e.children=="string"&&f(s,"")}function a(e,i,s,l){if(e&&e.type!==i.type&&(y(e),e=void 0),i.type==="text")if(e){const n=i.el=e.el;i.children!==e.children&&n&&A(n,i.children)}else{const n=i.el=k(i.children);c(n,s)}else if(i.type==="comment")if(e){if(i.el=e.el,i.children!==e.children){y(e);const n=i.el=C(i.children);c(n,s)}}else{const n=i.el=C(i.children);c(n,s)}else i.type==="fragment"?e?g(e,i,s):i.children.forEach(n=>a(void 0,n,s)):typeof i.type=="string"?e?u(e,i):o(i,s,l):i.type}function P(e,i){e?a(i._vnode,e,i):i._vnode&&y(i._vnode),i._vnode=e}return{render:P}}const U={name:"9.5_new-element",doRender:function(){const t=b(),{render:r}=O(),c={type:"div",props:{id:"foo"},children:[{type:"p",children:"1 to 2",key:1,props:{id:"ele1"}},{type:"p",children:"2 to 3",key:2,props:{id:"ele2"}},{type:"p",children:"hello 3 to 1",key:3,props:{id:"ele3"}}]},f={type:"div",props:{id:"foo"},children:[{type:"p",children:"world now 1",key:3,props:{id:"ele3"}},{type:"p",children:"new new new",key:4,props:{id:"ele4"}},{type:"p",children:"1 now 3",key:1,props:{id:"ele1"}},{type:"p",children:"2 now 4",key:2,props:{id:"ele2"}}]};r(c,t),I(300).then(()=>r(f,t))}};export{O as createRenderer,R as getDefaultRenderOption,U as rendererItem};
