import{i as b}from"./util-B7zk4-Xm.js";import{s as I}from"./async-B8FjgEV9.js";function R(){return{createElement:function(i){return document.createElement(i)},setElementText:function(i,r){i.textContent=r},insert:function(i,r,c){c!==void 0?r.insertBefore(i,c):r.appendChild(i)},patchProps:function(i,r,c,o){const d=i,{is:P,type:k}=j(r);if(P){let f=(i._eventInvoker||(i._eventInvoker={}))[r];o?f?f.value=o:(f=i._eventInvoker[r]=E=>{E.timeStamp<f.attached||(Array.isArray(f.value)?f.value.forEach(g=>g(E)):f.value(E))},f.value=o,f.attached=performance.now(),i.addEventListener(k,f)):f&&i.removeEventListener(k,f)}else r==="class"?i.className=o||"":S(i,r)?typeof d[r]==="boolean"&&o===""?d[r]=!0:d[r]=o:i.setAttribute(r,o)},createText(i){return document.createTextNode(i)},setText(i,r){i.nodeValue=r},createComment(i){return document.createComment(i)}}}const L=R();function S(i,r,c){return r==="form"&&i.tagName==="INPUT"?!1:r in i}function j(i){const r=/^\$on/.test(i),c=r?i.slice(3).toLowerCase():void 0;return{is:r,type:c}}function y(i){if(i.type==="fragment"){i.children.forEach(y);return}const r=i.el;if(r){const c=r==null?void 0:r.parentNode;c&&c.removeChild(r)}}function O(i=L){const{createElement:r,insert:c,setElementText:o,patchProps:d,createText:P,setText:k,createComment:C}=i;function f(e,t,s){const l=e.el=r(e.type);if(typeof e.children=="string"?o(l,e.children):Array.isArray(e.children)&&e.children.forEach(n=>u(void 0,n,l)),e.props)for(const n in e.props)d(l,n,void 0,e.props[n]);c(l,t,s)}function E(e,t){const s=t.el=e.el,l=e.props??{},n=t.props??{};for(const p in n)n[p]!==l[p]&&d(s,p,l[p],n[p]);for(const p in l)p in n||d(s,p,l[p],void 0);g(e,t,s)}function g(e,t,s){if(typeof t.children=="string")Array.isArray(e.children)&&e.children.forEach(l=>y(l)),o(s,t.children);else if(Array.isArray(t.children))if(Array.isArray(e.children)){const l=e.children,n=t.children;let p=0;for(let h=0;h<n.length;h++){const a=n[h];let m=0,w=!1;for(;m<l.length;m++){const A=l[m];if(a.key===A.key&&a.key!==void 0){if(w=!0,u(A,a,s),m<p){const v=n[h-1];if(v){const _=v.el.nextSibling;c(a.el,s,_)}}else p=m;break}}if(!w){const A=n[h-1];let v;A?v=A.el.nextSibling:v=s.firstChild,u(void 0,a,s,v)}}for(let h=0;h<l.length;h++){const a=l[h];n.find(w=>a.key===w.key)||y(a)}}else o(s,""),t.children.forEach(l=>u(void 0,l,s));else Array.isArray(e.children)?e.children.forEach(l=>y(l)):typeof e.children=="string"&&o(s,"")}function u(e,t,s,l){if(e&&e.type!==t.type&&(y(e),e=void 0),t.type==="text")if(e){const n=t.el=e.el;t.children!==e.children&&n&&k(n,t.children)}else{const n=t.el=P(t.children);c(n,s)}else if(t.type==="comment")if(e){if(t.el=e.el,t.children!==e.children){y(e);const n=t.el=C(t.children);c(n,s)}}else{const n=t.el=C(t.children);c(n,s)}else t.type==="fragment"?e?g(e,t,s):t.children.forEach(n=>u(void 0,n,s)):typeof t.type=="string"?e?E(e,t):f(t,s,l):t.type}function T(e,t){e?u(t._vnode,e,t):t._vnode&&y(t._vnode),t._vnode=e}return{render:T}}const D={name:"9.6_remove-element",doRender:function(){const i=b(),{render:r}=O(),c={type:"div",props:{id:"foo"},children:[{type:"p",children:"1 to 2",key:1,props:{id:"ele1"}},{type:"p",children:"2 to 3",key:2,props:{id:"ele2"}},{type:"p",children:"hello 3 to 1",key:3,props:{id:"ele3"}},{type:"p",children:"old old old",key:4,props:{id:"ele4"}}]},o={type:"div",props:{id:"foo"},children:[{type:"p",children:"world now 1",key:3,props:{id:"ele3"}},{type:"p",children:"1 now 3",key:1,props:{id:"ele1"}},{type:"p",children:"2 now 4",key:2,props:{id:"ele2"}}]};r(c,i),I(300).then(()=>r(o,i))}};export{O as createRenderer,R as getDefaultRenderOption,D as rendererItem};
