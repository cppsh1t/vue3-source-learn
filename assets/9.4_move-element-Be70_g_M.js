import{i as P}from"./util-B7zk4-Xm.js";import{s as I}from"./async-B8FjgEV9.js";function b(){return{createElement:function(i){return document.createElement(i)},setElementText:function(i,r){i.textContent=r},insert:function(i,r,l){l!==void 0?r.insertBefore(i,l):r.appendChild(i)},patchProps:function(i,r,l,c){const a=i,{is:g,type:v}=j(r);if(g){let f=(i._eventInvoker||(i._eventInvoker={}))[r];c?f?f.value=c:(f=i._eventInvoker[r]=y=>{y.timeStamp<f.attached||(Array.isArray(f.value)?f.value.forEach(E=>E(y)):f.value(y))},f.value=c,f.attached=performance.now(),i.addEventListener(v,f)):f&&i.removeEventListener(v,f)}else r==="class"?i.className=c||"":L(i,r)?typeof a[r]==="boolean"&&c===""?a[r]=!0:a[r]=c:i.setAttribute(r,c)},createText(i){return document.createTextNode(i)},setText(i,r){i.nodeValue=r},createComment(i){return document.createComment(i)}}}const R=b();function L(i,r,l){return r==="form"&&i.tagName==="INPUT"?!1:r in i}function j(i){const r=/^\$on/.test(i),l=r?i.slice(3).toLowerCase():void 0;return{is:r,type:l}}function p(i){var l;if(i.type==="fragment"){i.children.forEach(p);return}const r=(l=i._vnode)==null?void 0:l.el;if(r){const c=r==null?void 0:r.parentNode;c&&c.removeChild(r)}}function O(i=R){const{createElement:r,insert:l,setElementText:c,patchProps:a,createText:g,setText:v,createComment:d}=i;function f(e,t){const s=e.el=r(e.type);if(typeof e.children=="string"?c(s,e.children):Array.isArray(e.children)&&e.children.forEach(n=>m(void 0,n,s)),e.props)for(const n in e.props)a(s,n,void 0,e.props[n]);l(s,t)}function y(e,t){const s=t.el=e.el,n=e.props??{},h=t.props??{};for(const o in h)h[o]!==n[o]&&a(s,o,n[o],h[o]);for(const o in n)o in h||a(s,o,n[o],void 0);E(e,t,s)}function E(e,t,s){if(typeof t.children=="string")Array.isArray(e.children)&&e.children.forEach(n=>p(n)),c(s,t.children);else if(Array.isArray(t.children))if(Array.isArray(e.children)){const n=e.children,h=t.children;let o=0;for(let A=0;A<h.length;A++){const C=h[A];for(let u=0;u<n.length;u++){const k=n[u];if(C.key===k.key&&C.key!==void 0){if(m(k,C,s),u<o){const w=h[A-1];if(w){const T=w.el.nextSibling;l(C.el,s,T)}}else o=u;break}}}}else c(s,""),t.children.forEach(n=>m(void 0,n,s));else Array.isArray(e.children)?e.children.forEach(n=>p(n)):typeof e.children=="string"&&c(s,"")}function m(e,t,s){if(e&&e.type!==t.type&&(p(e),e=void 0),t.type==="text")if(e){const n=t.el=e.el;t.children!==e.children&&n&&v(n,t.children)}else{const n=t.el=g(t.children);l(n,s)}else if(t.type==="comment")if(e){if(t.el=e.el,t.children!==e.children){p(e);const n=t.el=d(t.children);l(n,s)}}else{const n=t.el=d(t.children);l(n,s)}else t.type==="fragment"?e?E(e,t,s):t.children.forEach(n=>m(void 0,n,s)):typeof t.type=="string"?e?y(e,t):f(t,s):t.type}function _(e,t){e?m(t._vnode,e,t):t._vnode&&p(t._vnode),t._vnode=e}return{render:_}}const D={name:"9.4_move-element",doRender:function(){const i=P(),{render:r}=O(),l={type:"div",children:[{type:"p",children:"1 to 2",key:1},{type:"p",children:"2 to 3",key:2},{type:"p",children:"hello 3 to 1",key:3}]},c={type:"div",children:[{type:"p",children:"world now 1",key:3},{type:"p",children:"1 now 2",key:1},{type:"p",children:"2 now 3",key:2}]};r(l,i),I(300).then(()=>r(c,i))}};export{O as createRenderer,b as getDefaultRenderOption,D as rendererItem};
